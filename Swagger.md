# Swagger / OpenAPI (Документация API)

**Swagger** (современное название — OpenAPI) — это инструмент, который автоматически генерирует красивую интерактивную веб-страницу с документацией для вашего API. 

С помощью этой страницы фронтенд-разработчики (и вы сами) могут видеть все доступные эндпоинты, форматы JSON-тел, и даже отправлять тестовые запросы прямо из браузера (как в Postman).

---

### Как подключить (Spring Boot 3)
Добавьте зависимость в `pom.xml`:
```xml
<dependency>
    <groupId>org.springdoc</groupId>
    <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
    <version>2.3.0</version> <!-- Укажите актуальную версию -->
</dependency>
```
После запуска приложения, страница будет доступна по адресу:  
`http://localhost:8080/swagger-ui/index.html` (или `/swagger-ui.html`).

---

### Основные аннотации

| Аннотация | Где пишется | Роль |
| :--- | :--- | :--- |
| `@Tag` | Над классом Контроллера | Группирует эндпоинты на UI. Например, называет блок "User API" вместо "user-controller". |
| `@Operation` | Над методом Контроллера | Описывает конкретный метод: `summary` (кратко), `description` (подробно). |
| `@Parameter` | В аргументах метода | Описывает, зачем нужен конкретный `@PathVariable` или `@RequestParam`. |
| `@Schema` | В полях DTO | Описание полей. Например: `@Schema(description="Возраст пользователя", example="25")`. |

---

### Пример использования `@Operation`

Вместо того, чтобы писать комментарии `// метод получает юзера...`, мы пишем аннотации Swagger, которые сразу попадают на красивый сайт с документацией:

```java
@Tag(name = "Books API", description = "Управление каталогом книг")
@RestController
@RequestMapping("/api/books")
public class BookController {

    @Operation(
        summary = "Получить книгу", 
        description = "Возвращает подробную информацию о книге по её уникальному идентификатору."
    )
    @GetMapping("/{id}")
    public Book getBook(@PathVariable Long id) {
        // ...
    }
}
```

---

### Best Practices
1. **Не пишите документацию ради документации**: Описывайте только то, что не очевидно из названия метода.
2. **Пишите примеры (example)**: Аннотация `@Schema(example = "ivan@gmail.com")` на полях DTO невероятно помогает фронтенд-разработчикам понять форматы данных!
3. **Обновляйте своевременно**: Эта документация живет вместе с вашим кодом, поэтому при изменении логики меняйте описание (особенно `description` в `@Operation`).
